"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[677],{57426:function(e,t,r){r.r(t),r.d(t,{clearBatchDownloadAssets:function(){return k},clearSearchParameters:function(){return x},fetchFacets:function(){return I},fetchMoreEvents:function(){return b},fetchMoreGatewayAssets:function(){return N},fetchPaAgreementsInfo:function(){return A},galleryResultsAvailable:function(){return E},search:function(){return O},setAssetTypeAndFamily:function(){return T},setSearchParameter:function(){return D},setSearchPreference:function(){return B},setSecondarySearchContext:function(){return C},toggleBatchDownloadAssets:function(){return L},toggleFilterPanel:function(){return F},toggleGridLayout:function(){return R},toggleSearchParameter:function(){return M},toggleSearchParameterValues:function(){return j}});var n=r(87757),i=r.n(n),a=r(59465),s=r(65442),o=r(6332).ZP.define({name:"sp",options:{maxAgeYears:1},values:{search_details:"sd",refinement_panel_state:"rps",editorial_sort:"es",editorial_archival_sort:"eas",editorial_event_sort:"evs",search_grid_layout:"sgl",image_search_grid_layout:"isgl",film_search_grid_layout:"fsgl",saved_filters:"sf",pa_agreement:"pa",hide_creative_banner:"hcb",hide_prestige_banner:"hpb",hide_adobe_plugin_banner:"hapb",creative_image:"ci",editorial_image:"ei",mixed_image:"mi",creative_film:"cf",mixed_film:"mf",analog_film:"af",group_by_event:"gbe",gateway_srp:"gsrp"}}),u=r(56309),c=r.n(u);function l(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){l(a,n,i,s,o,"next",e)}function o(e){l(a,n,i,s,o,"throw",e)}s(void 0)}))}}var f=function(){var e=h(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,c().get("/agreements/pa-agreements",{headers:{Accept:"application/json"}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),d=r(30453),p=r(29069);function y(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){y(a,n,i,s,o,"next",e)}function o(e){y(a,n,i,s,o,"throw",e)}s(void 0)}))}}function v(e){return g.apply(this,arguments)}function g(){return(g=m(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.prev=1,r="film"==t.assettype?"footage":"images",n=t.parenteventid?"/editorial-"+r+"/"+t.editorialproducts+"/events/"+t.parenteventid+"/child-events":"/editorial-"+r+"/"+t.editorialproducts,e.next=7,c().get(n,{params:t,headers:{Accept:"application/json"}});case 7:return a=e.sent,e.abrupt("return",a.data.events);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var w=r(32311),_=r(70885);function P(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){P(a,n,i,s,o,"next",e)}function o(e){P(a,n,i,s,o,"throw",e)}s(void 0)}))}}var A=function(){return function(){var e=S(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:r=e.sent,t({type:s.rH,paAgreements:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=S(i().mark((function t(r){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(w.DJ.pageStatusChanged(_.B4.LOADING)),t.next=3,v(e);case 3:n=t.sent,r(w.DJ.pageStatusChanged(_.B4.LOADED)),r({type:s.aZ,events:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(){return function(){var e=S(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.F();case 2:r=e.sent,t({type:s.BW,facets:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(){return{type:s.Nm}},k=function(){return{type:s.JU,assets:[]}},E=function(e){return{type:s.PL,gallery:e}},O=function(e,t){return void 0===t&&(t=!0),function(){var r=S(i().mark((function r(n){var a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(w.DJ.pageStatusChanged(_.B4.LOADING)),r.next=3,d.y(e,t);case 3:a=r.sent,n(E(a)),n(w.DJ.pageStatusChanged(_.B4.LOADED));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},C=function(e){return{type:s.M8,secondarySearchContext:e}},D=function(e,t,r){return{type:s.Kr,parameter:e,value:t,siteNickname:r}},B=function(e,t){return o.find()[e]=t,{type:s.lD,preference:e,value:t}},T=function(e,t){return{type:s.Qq,assetType:e,family:t}},L=function(e){return{type:s.dx,assets:e}},F=function(){var e="refinement_panel_state",t="open"===a.Z.getState().gallery.searchPreferences[e]?"closed":"open";return B(e,t)},R=function(){var e="search_grid_layout",t="fixed"===a.Z.getState().gallery.searchPreferences[e]?"mosaic":"fixed";return B(e,t)},M=function(e){return{type:s.tm,parameter:e}},j=function(e,t){return{type:s.Pt,parameter:e,values:t}},N=function(e){return function(){var t=S(i().mark((function t(r){var n,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(w.DJ.pageAssetsLoading(!0)),t.next=3,d.o(e);case 3:n=t.sent,a=n.gallery.assets,o=n.gallery.page,r(w.DJ.pageAssetsLoading(!1)),r(D("page",o)),r({type:s.vt,assets:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},32311:function(e,t,r){r.d(t,{Uw:function(){return n},a3:function(){return i},Ub:function(){return C},DJ:function(){return a},AA:function(){return T.AA}});var n={};r.r(n),r.d(n,{cartAddAsset:function(){return S},cartGetAssets:function(){return P},cartRemoveAsset:function(){return A}});var i={};r.r(i),r.d(i,{downloadsGetLicenseHistory:function(){return O}});var a={};r.r(a),r.d(a,{pageAssetsLoading:function(){return B},pageStatusChanged:function(){return D}});var s=r(87757),o=r.n(s),u=r(56309),c=r.n(u);function l(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){l(a,n,i,s,o,"next",e)}function o(e){l(a,n,i,s,o,"throw",e)}s(void 0)}))}}function f(e){return d.apply(this,arguments)}function d(){return(d=h(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,c().get("/purchase/carts/contains-assets",{params:{ids:t.join(","),timeout:300},headers:{Accept:"application/json"}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(e){return y.apply(this,arguments)}function y(){return(y=h(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c().post("/purchase/carts/add-asset.json",{asset_id:t});case 3:if(200!=e.sent.status){e.next=6;break}return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=h(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c().post("/purchase/carts/remove-asset.json",{asset_id:t});case 3:if(200!=e.sent.status){e.next=6;break}return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=r(65442);function w(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){w(a,n,i,s,o,"next",e)}function o(e){w(a,n,i,s,o,"throw",e)}s(void 0)}))}}var P=function(e){return function(){var t=_(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:n=t.sent,r({type:g._,payload:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=_(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e.id);case 2:n=t.sent,r({type:g.Te,payload:n}),window.eventBus.triggerAllWindows("addToFancyCart");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=_(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e.id);case 2:n=t.sent,r({type:g.ZZ,payload:n}),window.eventBus.triggerAllWindows("removeFromFancyCart");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function b(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){b(a,n,i,s,o,"next",e)}function o(e){b(a,n,i,s,o,"throw",e)}s(void 0)}))}}function x(e,t){return k.apply(this,arguments)}function k(){return(k=I(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),e.prev=1,e.next=5,c().get("/account/download/license-history/"+t.join(","),{params:{include_agreement:r.includeAgreement,include_customer:r.includeCustomer},headers:{Accept:"application/json"}});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function E(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}var O=function(e,t){return function(){var r,n=(r=o().mark((function r(n){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x(e,t);case 2:i=r.sent,n({type:g.FV,payload:i});case 4:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,i){var a=r.apply(e,t);function s(e){E(a,n,i,s,o,"next",e)}function o(e){E(a,n,i,s,o,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}()},C=r(57426),D=function(e){return{type:g.Q8,status:e}},B=function(e){return{type:g.$,loading:e}},T=r(45859)},25605:function(e,t,r){r.d(t,{P:function(){return a}});var n=r(75418),i=r(85893),a=(0,n.createContext)();t.Z=function(e){var t=e.children,r=e.value;return(0,i.jsx)(a.Provider,{value:r,children:t})}},12603:function(e,t,r){r.d(t,{f8:function(){return a},rb:function(){return s},$k:function(){return X.$k},te:function(){return o},OR:function(){return L.OR},_P:function(){return u},d5:function(){return h},pl:function(){return f},uP:function(){return ne.uP},XI:function(){return d},kF:function(){return p},dd:function(){return ee.useModal},g6:function(){return y},xw:function(){return v},qt:function(){return g},zB:function(){return k},g$:function(){return O},FE:function(){return C},ZQ:function(){return B},vO:function(){return L.vO},ZY:function(){return T},Rx:function(){return F},MO:function(){return te.MO},qV:function(){return N},z9:function(){return M},u9:function(){return G},W4:function(){return re.W4},NW:function(){return re.NW},T_:function(){return ne.T_},Fg:function(){return ie.Fg},KS:function(){return L.KS},Lk:function(){return $},tE:function(){return W},N6:function(){return J},cn:function(){return ae.T_},V5:function(){return Y}});var n=r(75418),i=r(97518),a=function(){var e=h();return(0,n.useMemo)((function(){return(0,i.l)(e.searchParameters,e.searchProfile)}),[e.searchParameters])},s=function(){var e=h(),t=g(),r=(0,re.NW)();(0,n.useEffect)((function(){if(t.isInitializedOrLoaded()&&e.isAssetIdCorrected()&&1==e.queryCorrections.asset_ids.corrected.length){var n=e.queryCorrections.asset_ids.corrected[0];window.location.href=r.assetPath(n)}}),[t.status])},o=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1];(0,n.useEffect)((function(){return document.addEventListener("search.downloadAsset",i),document.addEventListener("search.downloadBatchAssets",a),function(){document.removeEventListener("search.downloadAsset",i),document.removeEventListener("search.downloadBatchAssets",a)}}),[]);var i=function(e){o(e.detail.asset,e.detail.location)},a=function(e){u(e.detail.assets,e.detail.location)},s=function(){var e=window.angular,t=window.angularCompile,n=e.injector(["ng"]).get("$rootScope"),i=e.element("<div id=\"'giDownload-primary'\" gi-remote-app=\"'giDownload'\" gi-remote-manifest=\"'/downloads/gix/manifest'\"></div>");t(i)(n),e.element(document.body).append(i),r(!0)},o=function(e,r){t||s(),window.downloadModalTrackUILocation=r,window.downloadModalTrackGridSlotNumber=e.slot,window.angularRemoteApps.get("giDownload").then((function(t){t.rootScope.assets=[e],t.rootScope.assetIds=[e.id],"function"==typeof t.rootScope.showModal&&t.rootScope.showModal(t.rootScope.assetIds),t.rootScope.downloadLocation=r,t.rootScope.showAllOptions="true",t.refresh()}))},u=function(e,r){t||s(),window.downloadModalTrackUILocation=r,window.angularRemoteApps.get("giDownload").then((function(t){t.rootScope.assets=e,t.rootScope.assetIds=t.rootScope.assets.map((function(e){return e.assetId})),"function"==typeof t.rootScope.showModal&&t.rootScope.showModal(t.rootScope.assetIds),t.rootScope.downloadLocation=r,t.rootScope.downloadType="batch",t.refresh()}))}},u=function(e){var t,r=null==(t=h().searchProfile.experiences)?void 0:t[e],n=function(){return null==r?void 0:r.is_active},i=function(){return null==r?void 0:r.active_offers[Object.keys(r.active_offers)[0]]},a=function(e){return i()==e};return{isActive:n,isOfferActive:a,isTestExpActive:function(){return n()&&!a("control")}}},c=r(84751),l=r(70885),h=function(){var e=(0,c.v9)((function(e){return e.gallery}));return(0,n.useMemo)((function(){return new l.Hr(e)}),[e])},f=function(e,t){return(0,n.useMemo)((function(){return new l.bp(e,t)}),[e,t])},d=function(e){var t=(0,n.useState)(!1),r=t[0],i=t[1],a=(0,n.useState)(!1),s=a[0],o=a[1],u=function(){i(!0),o(!0)},c=function(){i(!1)};return(0,n.useEffect)((function(){return e.current&&(e.current.addEventListener("mouseenter",u),e.current.addEventListener("mouseleave",c)),function(){e.current&&(e.current.removeEventListener("mouseenter",u),e.current.removeEventListener("mouseleave",c))}}),[]),[r,s]},p=function(){var e=h(),t=g();(0,n.useEffect)((function(){if(t.isInitializedOrLoaded()){var r,n=document.querySelector("title");if(n)n.innerText=null==(r=e.pageMetaData)?void 0:r.title;var i,a=document.querySelector('meta[name="description"]');if(a)a.setAttribute("content",null==(i=e.pageMetaData)?void 0:i.description);var s,o=document.querySelector('meta[property="og:image"]');if(o)o.setAttribute("content",null==(s=e.pageMetaData)?void 0:s.heroImage);var u,c=document.querySelector('meta[property="og:title"]');if(c)c.setAttribute("content",null==(u=e.pageMetaData)?void 0:u.title);var l,h=document.querySelector('meta[property="og:description"]');if(h)h.setAttribute("content",null==(l=e.pageMetaData)?void 0:l.description);if(e.assets.length<=10){var f=document.querySelector('meta[name="robots"]');f||((f=window.document.createElement("meta")).name="robots",window.document.getElementsByTagName("head")[0].appendChild(f)),f.setAttribute("content","noindex")}}}),[t.status])},y=function(e,t,r){var i=(0,n.useState)(!0),a=i[0],s=i[1],o=d(e)[0],u=(0,L.KS)(1e3),c=u[0],l=u[1];(0,n.useEffect)((function(){o?(m(),h(),c(p)):(v(),f(),l())}),[o]);var h=function(){r.current&&(r.current.style.opacity=1)},f=function(){r.current&&(r.current.style.opacity=0)},p=function(){f(),s(!1)},y=(0,L.OR)("mousemove",(function(e){l(),h(),s(!0),e.target==t.current&&c(p)}),e.current),m=y[0],v=y[1];return a},m=r(32311),v=function(){var e=(0,c.I0)(),t=h();(0,n.useEffect)((function(){t.hasPremiumAccess()&&!t.isPaPreview()&&(window.eventBus.on("downloadStarted",r),r())}),[t.hasPremiumAccess()]);var r=function(){e(m.Ub.fetchPaAgreementsInfo())}},g=function(){var e=(0,c.v9)((function(e){return e.page}));return(0,n.useMemo)((function(){return new l.B4(e)}),[e.status])},w=r(87757),_=r.n(w),P=r(30453),S=r(65442),A=function(e,t){return{type:S._S,path:e,content:t}},b=r(23269);function I(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){I(a,n,i,s,o,"next",e)}function o(e){I(a,n,i,s,o,"throw",e)}s(void 0)}))}}var k=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],i=(0,c.I0)(),a=h(),s=g(),o=(0,re.NW)(),u="undefined"!=typeof document?document:null,l=(0,L.OR)("scroll",(function(){p()&&function(){y.apply(this,arguments)}()}),u,!0),f=l[0],d=l[1];(0,n.useEffect)((function(){s.isLoaded()&&(r(!1),f(),i({type:S.zx}))}),[s.status]);var p=function(){return!t&&(window.scrollY+window.innerHeight)/u.body.getBoundingClientRect().height>.6};function y(){return(y=x(_().mark((function e(){var t,n,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),r(!0),t=(0,b.K)({page:a.pageNumber()+1}),n=o.searchPath(t),e.next=6,(0,P.o)(n);case 6:(s=e.sent)&&i(A(n,s));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},E=r(57426),O=function(){var e=(0,c.I0)();(0,n.useEffect)((function(){window.addEventListener("popstate",(function(){var t=decodeURI(document.location.pathname+document.location.search);e((0,E.search)(t,!1))}))}),[])},C=function(){var e=(0,c.I0)(),t=h(),r=t.assets.map((function(e){return e.id}));(0,n.useEffect)((function(){t.isBatchDownloads()&&r.length>0&&e(m.a3.downloadsGetLicenseHistory(r,{includeAgreement:!1,includeCustomer:!1}))}),[t.isBatchDownloads()])};function D(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}var B=function(){var e=(0,c.I0)(),t=h(),r=g(),i=(0,re.NW)(),a=function(){var t,r=(t=_().mark((function t(){var r,n,a,s;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=JSON.parse(window.localStorage.getItem("search.assetsViewedData"))||[],0!=(n=r.slice(0,60).map((function(e){return e.id})).join(",")).length){t.next=4;break}return t.abrupt("return");case 4:return a=i.searchPath({phrase:n}),t.next=7,P.o(a);case 7:(s=t.sent).query.params.recentlyviewed=!0,delete s.query.params.phrase,e((0,E.galleryResultsAvailable)(s));case 11:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(e){D(a,n,i,s,o,"next",e)}function o(e){D(a,n,i,s,o,"throw",e)}s(void 0)}))});return function(){return r.apply(this,arguments)}}();(0,n.useEffect)((function(){t.isRecentlyViewedImages()&&a()}),[r.status])},T=function(){var e=g(),t=h();(0,n.useEffect)((function(){if(e.isLoaded()){if(t.isIstock()){var r=(n=document.getElementById("header-wrapper"))?n.clientHeight:87;return window.pageYOffset>=r?window.scrollTo(0,r):window.scrollTo(0,0)}return window.scrollTo(0,0)}var n}),[e.status])},L=r(5689),F=function(){var e=(0,c.I0)(),t=(0,re.NW)();return function(r,n){var i;void 0===r&&(r={}),void 0===n&&(n={servicecontext:"",preventGateway:!1,pushState:!0}),i=n.preventGateway?t.traditionalSearchPath((0,b.K)(r)):t.searchPath((0,b.K)(r)),n.servicecontext&&(i=L.C0.appendQueryParamsToString(i,{servicecontext:n.servicecontext})),e(E.search(i,n.pushState))}};function R(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}var M=function(){var e=(0,re.NW)();return function(){var t,r=(t=_().mark((function t(r,n){var i;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),void 0===n&&(n=[]),i=e.searchPath((0,b.K)(r)),i=L.C0.appendQueryParamsToString(i,{responsefields:n.join(",")}),t.next=6,(0,P.o)(i);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(e){R(a,n,i,s,o,"next",e)}function o(e){R(a,n,i,s,o,"throw",e)}s(void 0)}))});return function(e,t){return r.apply(this,arguments)}}()};function j(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}var N=function(){var e=M();return function(){var t,r=(t=_().mark((function t(r){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),r.pagesize=0,t.next=4,e(r,["totalNumberOfResults"]);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(e){j(a,n,i,s,o,"next",e)}function o(e){j(a,n,i,s,o,"throw",e)}s(void 0)}))});return function(e){return r.apply(this,arguments)}}()};function V(e){var t,r=(0,b.K)();sessionStorage.previous_search_query=JSON.stringify(r),localStorage["search.lastSearchParameters"]=L.C0.encodeQueryParams(r),localStorage["search.lastSearchCreativeAssetType"]=function(e){return e.isCreative()?e.searchParameters.mediatype?e.searchParameters.mediatype:"all":null}(e),localStorage["search.lastSearchPAFilter"]=e.selectedPAId(),localStorage.current_search_phrase=e.isSearchByImage()?"SBI":e.searchParameters.phrase,localStorage.target_search_mix=null==(t=window.tracking_data)?void 0:t.gallery_data.target_search_mix,e.isAssetIdSearch()||function(e,t){if(e){var r={};try{r=JSON.parse(localStorage.getItem("search.recentSearches"))||{}}catch(e){}delete r[e],r[e]={phrase:e,url:t,date:Date.now()};for(var n=Object.keys(r).reverse(),i=6;i<n.length;i++)delete r[n[i]];localStorage.setItem("search.recentSearches",JSON.stringify(r))}}(e.searchParameters.phrase,window.location.url)}var G=function(){var e=h(),t=g();(0,n.useEffect)((function(){t.isInitializedOrLoaded()&&V(e)}),[t.status])};function q(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=function(e){if(e.isImage()&&e.isMixed())return"";var t="tab-";return e.isPhotography()?"tab-Photos":e.isIllustration()?"tab-Illustrations":e.isVector()?"tab-Vectors":e.hasEditorialProduct()?t+e.params.editorialproducts:e.isCreativeFilmOnly()?"tab-CreativeVideo":e.isEditorialFilmOnly()?"tab-EditorialVideo":e.isCreativeImageOnly()||e.isEditorialImageOnly()||e.isAllFilm()?"tab-AllResults":void 0},Z=function(){return localStorage.getItem("tracking-data.search-tools")},H=function(){var e=window.tracking_data;if(e){var t,r=null!=e.search_query.agreements?e.search_query.agreements.split(","):void 0;if(r)for(var n,i=q(r);!(n=i()).done;){var a=n.value;a.indexOf("pa")>-1&&(t=a.split(":")[1])}var s=e.active_agreements||{};if(s.PA)for(var o,u=q(s.PA);!(o=u()).done;){var c=o.value;if(t===c.Id.toString())return c.PaAgreementType}return"none"}},U=function(e,t,r){var n=window.tracking_data;if(n){var i=window.sessionStorage;if(i){var a=[];a.push(e.isPanelOpen()?"open":"closed"),a.push(e.layout()),a.push(e.isGroupedByEvent()?"group_by_event":"group_by_pictures_and_images");var s=n.search_result_display_option?n.search_result_display_option.split("|"):[];n.search_result_display_option=a.concat(s).join("|"),n.search_result_page_depth=e.pageNumber(),e.hasEditorialProduct()&&(n.search_sub_category=e.searchParameters.editorialproducts),n.search_results_layout="mosaic"===e.layout()?"mosaic_layout":"grid_layout",n.refine_panel_display_state=e.isPanelOpen()?"refine_open":"refine_closed",n.search_breadcrumbs=function(e){for(var t,r=[],n=q(e);!(t=n()).done;){var i=t.value;r.push(i.name+": "+i.value)}return r}(r),n.ui_element_location=function(){switch(Z()){case"ADP_Keyword_Browse_Click":return"keyword_button_adp";case"ADP_People_Also_Searched_For_Keyword_Click":return"adp_people_also_searched_for_keyword_link";default:return}}(),n.search_type=function(e){var t=window.tracking_data,r=window.localStorage,n=Z();if(n&&n.includes("MLT"))return"keyword-blank-similar_images";if(e.isBlankPhrase())return"keyword-blank";if(e.isAssetIdSearch())return"AssetID";if(e.isFamilyCorrected())return"AssetFamilyCorrection";if(t.gallery_data.spellcheck_search)return"keyword-spellcheck";var i=e.searchParameters.phrase,a=r.getItem("previous_search_type")||"",s=a&&i,o="autosuggest"===n?"-autosuggest":"autosuggest-recent"===n?"-autosuggest-recent":"";return"preview-related"===n?"keyword-related":s?"keyword-includes original":s&&"keyword-autosuggest"===a&&o?"keyword-autosuggest includes original":"ADP_Keyword_Browse_Click"===n||"ADP_People_Also_Searched_For_Keyword_Click"===n?"keyword-browse":"keyword"+o}(e),K(e)&&(n.search_type+="|"+K(e)),n.search_query.phrase=e.searchParameters.phrase,n.search_result_count=e.totalResults,t.isGetty()?(n.search_category=e.searchParameters.family,e.isMixed()&&(n.search_category="creative|editorial")):t.isIstock()&&("availableforalluses"===e.searchParameters.alloweduse?n.search_category="creative":"editorialuseonly"===e.searchParameters.alloweduse?n.search_category="editorial":n.search_category="creative|editorial"),i.setItem("previous_search_type",n.search_type)}}},W=function(){var e=a(),t=h(),r=g(),i=(0,re.W4)(),s=(0,ne.uP)(),o=(0,ne.T_)(),u=t.searchParameters.mediatype||(t.isCreative()?"all":null);(0,n.useEffect)((function(){"undefined"!=typeof window&&r.isInitializedOrLoaded()&&setTimeout((function(){var r,n,a;U(t,i,e),document.dispatchEvent(new Event("searchEventTracked")),s.trackSearch();var c={asset_ids:t.assets.map((function(e){return e.id})),asset_family:t.searchParameters.family,creative_assets_type:u,exclude_nudity:t.searchParameters.excludenudity,license:t.searchParameters.license,number_of_concepts:null==(r=t.queriedKeywordsByClause)?void 0:r.length,page_number:t.pageNumber(),pa_agreement_filter:H(),search_page_format:t.renderGatewayView?"gateway":"traditional",sort_type:t.searchParameters.sortorder,phrase:t.searchParameters.phrase,queried_keywords_by_clause:t.queriedKeywordsByClause,total_number_of_results:t.totalResults,sbi:null!=(n=window.tracking_data)&&n.gallery_data.sbi?null==(a=window.tracking_data)?void 0:a.gallery_data.sbi:void 0};t.isMoreLikeThis()?o.sendSearchMoreLikeThisSignal(c):o.sendSearchSignal(c)}))}),[r.status])},J=function(e){var t=g(),r=(0,n.useState)(!1),i=r[0],a=r[1];return function(){switch(t.status){case l.B4.LOADING:i&&a(!1);break;case l.B4.LOADED:case l.B4.INITIALIZED:if("undefined"!=typeof window&&window.tracking_data&&!i){a(!0);var r=window.tracking_data.search_result_display_option?window.tracking_data.search_result_display_option.split("|"):[];window.tracking_data.search_result_display_option=r.concat(e).join("|")}}}},$=function(e){var t=(0,L.KS)(1),r=t[0],i=t[1],a=(0,L.KS)(1e3),s=a[0],o=a[1],u=h(),c=(0,n.useRef)(!0),f=(0,n.useRef)([]),d=(0,n.useRef)(new Map),p=(0,n.useRef)(Date.now()),y=(0,ne.T_)(),m=g();(0,n.useEffect)((function(){switch(m.status){case l.B4.LOADING:v(),d.current=new Map,c.current=!0;break;case l.B4.LOADED:case l.B4.INITIALIZED:p.current=Date.now()}}),[m.status]);var v=function(){f.current=[]},w=function(){if(e.current){var t=e.current.getBoundingClientRect(),r=f.current.map((function(e){return e+":"+d.current.get(e)}));y.sendAssetImpressionsSignal(f.current,{asset_id_times:r,gallery_viewport:{width:t.width,height:t.height},gallery_layout:u.layout(),asset_family:u.searchParameters.family,phrase:u.searchParameters.phrase,queried_keywords_by_clause:u.queriedKeywordsByClause}),v(),c.current=!1}};return function(e){d.current.get(e)||(d.current.set(e,Date.now()-p.current),f.current.push(e),c.current?(i(),r(w)):(o(),s(w)))}},Q=r(25605),Y=function(){return(0,n.useContext)(Q.P)},X=r(65247),ee=r(85492),te=r(45859),re=r(44597),ne=r(10906),ie=r(54380),ae=r(88835)},29069:function(e,t,r){r.d(t,{F:function(){return h},l:function(){return d}});var n=r(87757),i=r.n(n),a=r(56309),s=r.n(a),o=r(23269);function u(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){u(a,n,i,s,o,"next",e)}function o(e){u(a,n,i,s,o,"throw",e)}s(void 0)}))}}var l=function(){var e=(0,o.K)();return e.events&&(e.phrase=null,e.assettype=null),e};function h(){return f.apply(this,arguments)}function f(){return(f=c(i().mark((function e(){var t,r,n,a,o,u,c,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l(),r="editorial"==t.family?"events,specificpeople,locations":"locations",e.prev=2,e.next=6,s().get("/search/facets?fields="+r,{params:t,headers:{Accept:"application/json"}});case 6:if(c=e.sent,"locations"===r||0!==(null==(n=c.data)||null==(a=n.events)?void 0:a.length)||0!==(null==(o=c.data)||null==(u=o.specific_people)?void 0:u.length)){e.next=13;break}return h={specificpeople:t.specificpeople,locations:t.locations},e.next=12,s().get("/search/facets?fields="+r,{params:h,headers:{Accept:"application/json"}});case 12:c=e.sent;case 13:return e.abrupt("return",{events:c.data.events,specificpeople:c.data.specific_people,locations:c.data.locations});case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",{events:[],specificpeople:[],locations:[]});case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return(p=c(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),n=l(),r&&(n[t]=r),e.prev=3,e.next=7,s().get("/search/facets/"+t,{params:n,headers:{Accept:"application/json"}});case 7:return a=e.sent,e.abrupt("return",a.data);case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}},30453:function(e,t,r){r.d(t,{o:function(){return l},y:function(){return f}});var n=r(87757),i=r.n(n),a=r(56309),s=r.n(a),o=r(59465);function u(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){u(a,n,i,s,o,"next",e)}function o(e){u(a,n,i,s,o,"throw",e)}s(void 0)}))}}function l(e){return h.apply(this,arguments)}function h(){return(h=c(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,s().get(t,{headers:{Accept:"application/json"}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(e,t){return d.apply(this,arguments)}function d(){return(d=c(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!0),r&&history.pushState(null,null,t),n=null,!(a=o.Z.getState().prefetch.paths)||!a[t]){e.next=9;break}n=a[t],e.next=12;break;case 9:return e.next=11,l(t);case 11:n=e.sent;case 12:return n.trackingData&&(window.tracking_data=n.trackingData),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},97518:function(e,t,r){r.d(t,{l:function(){return i},r:function(){return a}});var n=r(12603);function i(e,t){var r,n,i=(r=e,n=[],Object.keys(r).forEach((function(e){var t=r[e];Array.isArray(t)?t.forEach((function(t){n.push({name:e,value:t})})):n.push({name:e,value:t})})),n).filter((function(e){var r=function(e){var t={additionalphrases:!0,alloweduse:!0,agreements:!0,offlinecontent:!0,assetfiletype:!0,assettype:!0,begindate:!0,clarifications:!0,colorsimilarityassetid:!0,contributor:!0,easyaccess:!0,editorialproducts:["news","entertainment","sport","archival"],editorialsubscription:!0,embeddable:!0,enddate:!0,excludenudity:!0,family:!0,groupbyevent:!0,imagesearchhash:!0,license:!0,mediatype:!0,morelikethis:!0,page:!0,phrase:!0,premiumaccess:!0,recency:["anydate"],recentlyviewed:!0,searchbyimage:!0,sortorder:!0,specialcollectionid:!0,stackid:!0,suppressfamilycorrection:!0,suppressphrasecorrection:!0,videodurationmax:!0};return"getty"===e.site.nickname?Object.assign({},t,{}):Object.assign({},t,{alloweduse:["excludeeditorialuseonly","","off"],istockcollection:!0})}(t),n=r[e.name];return!n||Array.isArray(n)&&!n.includes(e.value)}));return i}function a(e,t,r,i,a){void 0===i&&(i=[]),void 0===a&&(a=!1);var s=a?window.t:(0,n.cn)();switch(e.name){case"videodurationmin":return s("search_filters.duration_heading");case"framerate":return s("search_filters.framerate_"+e.value.replace(".","_"));case"events":return s("num_event_singular");case"artists":return s("film"===r?"search_filters.filmmaker":"search_filters.artists");case"collections":return s("search_filters."+e.name)+" ("+e.value+")";case"locations":case"specificpeople":return function(e,t){var r=t.find((function(t){return t.id.toString()===e.value.toString()}));return r?r.name:null}(e,i);case"morelikethis":return s("search_filters.similar_clip");case"imagesize":return"getty"===t?function(e,t){switch(e.value){case"xlarge":return t("search_filters.imagesize_12_mp");case"xxlarge":return t("search_filters.imagesize_16_mp");case"xxxlarge":return t("search_filters.imagesize_21_mp")}}(e,s):function(e,t){switch(e.value){case"large":return t("search_filters.large_file_size");case"xlarge":return t("search_filters.xlarge_file_size");case"xxlarge":return t("search_filters.xxlarge_file_size")}}(e,s);case"searchbyimage":return s("sbi-result-uploadedimage");case"bwonly":return s("search_filters.imagetechnique_blackandwhite");case"_colorindex":return s("search_filters.imagetechnique_color");case"editorialproducts":return e.value;case"istockexclusive":return s("search_filters.istockexclusive_yes");case"alloweduse":switch(e.value){case"availableforalluses":return s("search_filters.creative");case"editorialuseonly":return s("search_filters.editorial")}break;case"mood":return s("search_filters.mood");default:return s("search_filters."+e.name+"_"+e.value)}}},23269:function(e,t,r){r.d(t,{K:function(){return f},q:function(){return d}});var n=r(59465),i=r(6715),a=r(68650),s=r(39568),o=r(14586),u={bwonly:!1,embeddable:!1,istockexclusive:!1},c=function(e,t,r){if(function(e,t){var r=new s.Z;return r.getPrimaryContext(t)!==r.getPrimaryContext(e)}(e,t)||function(e,t){var r=new o.Z;return r.getSecondaryContext(t)!==r.getSecondaryContext(e)}(e,t))return!!["license","excludenudity","alloweduse","groupbyevent"].includes(r)||("sortorder"===r&&"editorial"===e.family&&"image"===e.assettype||void 0)},l=function(e,t,r,n,i){if(u[n]===i)return null;if(c(e,t,n))return null;if(function(e,t,r){var n,i;if(null!=(n=e[t])&&n.excludedValues)return i=r,!!e[t].excludedValues.includes(i)||void 0}(r,n,i))return null;if(void 0===i)return null;var s=(0,a.rI)(n,i);return s?{key:s.key,value:s.value}:void 0},h=function(e,t,r){var n=e[r];return t[r]===n},f=function(e){void 0===e&&(e={});var t,r=n.Z.getState().gallery,s=r.completedSearchParameters,o=r.availableSearchParameters,u=r.hideableParameters,c=r.searchProfile,f=Object.assign({},r.searchParameters,e),d={};for(var p in(0,i.l)(f,o),f){var y=f[p],m=l(f,s,o,p,y);if(m)if(d[m.key]){var v=d[m.key];Array.isArray(d[m.key])||(v=v.split(",")),v.push(m.value),d[m.key]=v.join(",")}else"null"!==(t=m).value&&null!==t.value&&"undefined"!==t.value&&void 0!==t.value&&(d[m.key]=m.value)}return function(e,t,r){var n=t,i=r;if(!(n.easyaccess||n.editorialsubscription||n.premiumaccess))(i.easyaccess||i.editorialsubscription||i.premiumaccess)&&(e.agreements="")}(d,f,s),function(e,t,r,n,i){var s=[];for(var o in 1!==e.page&&"1"!==e.page||s.push("page"),"anydate"===e.recency&&s.push("recency"),!1===e.groupbyevent&&s.push("groupbyevent"),"istock"===i&&s.push("family"),n&&n.length>0&&n.forEach((function(e){var n=(0,a.t6)(e);h(t,r,n)&&s.push(e)})),e)-1!=s.indexOf(o)&&delete e[o]}(d,f,s,u,c.site.nickname),d},d=function(e){void 0===e&&(e={});var t=n.Z.getState().gallery.searchParameters,r={pagesize:30,page:t.page,assettype:t.assettype,editorialproducts:t.editorialproducts,parenteventid:t.parenteventid};return Object.assign({},r,e)}},70885:function(e,t,r){r.d(t,{bp:function(){return f},Hr:function(){return u},B4:function(){return p}});var n=function(e){if(e)for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this[n]=e[n]}},i=function(){function e(e){this.gallery=e}var t=e.prototype;return t.showGallery=function(){return!this.gallery.showEmptyResults()},t.showFilters=function(){return!this.gallery.isSearchByImage()&&!this.gallery.isSearchByAsset()},t.showGroupEventToggle=function(){return this.gallery.isEditorialImageOnly()&&!this.gallery.isMoreLikeThis()&&!this.gallery.isStackSearch()&&!this.gallery.isCuratedSet()&&!this.gallery.isEvents()&&this.gallery.hasResults()},t.showAgreementsBanner=function(){return this.gallery.hasResults()&&this.gallery.nonUltraPackAgreements().length>0&&!this.gallery.isPanelOpen()},t.showAgreementsFilter=function(){return!this.gallery.isRecentlyViewedImages()&&!this.gallery.isCuratedSet()&&!this.gallery.isStackSearch()&&this.gallery.searchProfile.agreements.length>0&&!this.gallery.searchProfile.isUltraPackOnly&&!this.gallery.searchProfile.isPaPreview},t.showAssetPivotLink=function(){return this.gallery.isCreativeOnly()&&!this.gallery.isBlankPhrase()&&!this.gallery.isSpecialSearch()},t.showFilterPanel=function(){return!(this.gallery.isStackSearch()||this.gallery.isCuratedSet()||this.gallery.isRecentlyViewedImages()||this.gallery.isSearchByImage()||this.gallery.isSearchByAsset()||this.gallery.isBatchDownloads())},t.showGallerySeoHeadline=function(){return this.gallery.searchProfile.botOrFirstTimeVisitor&&this.gallery.hasResults()&&!this.gallery.isRecentlyViewedImages()},t.showGallerySimilarBar=function(){return this.gallery.hasResults()&&this.gallery.isSimilarSearch()&&this.gallery.isCreativeOnly()&&!this.gallery.isFilm()},t.showClarifications=function(){return this.gallery.isCreativeImageOnly()&&this.gallery.clarifications&&this.gallery.clarifications.length},t.showRelatedItems=function(){return this.gallery.hasResults()&&!this.gallery.isSimilarSearch()&&!this.gallery.isSearchByImage()&&!this.gallery.isSearchByAsset()&&!this.gallery.isPortfolio()&&!this.gallery.isEditorialImageOnly()&&!this.gallery.isRecentlyViewedImages()},t.showGalleryHeadline=function(){return this.gallery.isIstock()?this.gallery.hasResults()&&!this.gallery.isSearchByImage()&&!this.gallery.isSearchByAsset():!this.gallery.isAssetIdSearch()&&!this.gallery.isEditorialImageOnly()||this.gallery.isEvents()||this.gallery.isMoreLikeThis()},t.showGalleryHeadlineSeo=function(){return(this.gallery.isMixed()||this.gallery.isCreativeOnly()||this.gallery.isIllustration())&&!this.gallery.isRecentlyViewedImages()&&!this.gallery.isStackSearch()&&!this.gallery.isCuratedSet()},t.showGalleryHeader=function(){return this.gallery.isArtist()||this.gallery.isEvents()||this.gallery.isSpecialCollectionPage()||this.gallery.isCuratedSet()||this.gallery.isStackSearch()||this.gallery.isRecentlyViewedImages()},t.showGalleryByLine=function(){return this.gallery.isArtist()&&this.gallery.isEvents()},t.showCorrectionsFamily=function(){var e;return(null==(e=this.gallery.queryCorrections)?void 0:e.family)&&!this.gallery.isAssetIdSearch()},t.showRelatedSearches=function(e,t){return!this.gallery.isEditorialImageOnly()&&!this.gallery.isSimilarSearch()&&this.gallery.relatedTerms.length&&this.gallery.relatedTerms.length>=e&&this.gallery.assets.length>t},t.showGalleryNavigation=function(){return!this.gallery.isPortfolio()&&(!this.gallery.isSearchByImage()||this.gallery.searchProfile.searchByUserVideo)&&!this.gallery.isSearchByAsset()&&!this.gallery.isRecentlyViewedImages()},t.showAssetTypeToggle=function(){return this.gallery.isSearchByImage()&&this.gallery.searchProfile.searchByUserVideo},t.showGridToggle=function(){return!this.gallery.renderGatewayView},t.showZSRCategories=function(){return!this.gallery.totalResults>0&&this.gallery.searchProfile.hasZSRCategories},t.showRelatedTerms=function(){return this.gallery.relatedTerms.length},t.showHistogramSearch=function(){return this.gallery.isImage()&&this.gallery.isCreative()&&!this.gallery.isEditorial()},t.showStickyContainer=function(){return this.gallery.isCreativeOnly()&&!this.gallery.isSearchByImage()&&!this.gallery.isSearchByAsset()&&!this.gallery.isRecentlyViewedImages()&&!this.gallery.isCuratedSet()&&!this.gallery.isStackSearch()&&!this.gallery.isBatchDownloads()&&!this.gallery.renderGatewayView&&!this.gallery.showEmptyResults()},t.showContextualFilters=function(){return this.showStickyContainer()},t.showColorMoods=function(){return this.showStickyContainer()&&this.gallery.isImage()&&!this.gallery.isFilm()&&!this.gallery.isPortfolio()&&!this.gallery.isSimilarSearch()&&!this.gallery.isArtist()},t.showPagination=function(){return this.showGallery()},t.showInfiniteScroll=function(){return this.gallery.searchProfile.gatewayInfiniteScroll&&this.gallery.renderGatewayView},t.showFreeWithTrialCta=function(e){var t=this.gallery.searchProfile,r=t.freemiumSubscriptionEligible,n=t.freeTrialSubscriptionTestActive,i=t.freeTrialSubscriptionEligible;return n&&"image"===e.assetType&&(i&&!e.isIstockSignature||r)},t.showSignature=function(e){return!this.showFreeWithTrialCta(e)&&e.isIstockSignature},e}();function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var u=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).policy=new i(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,o(t,r);var s=n.prototype;return s.pageNumber=function(){return this.searchParameters.page?parseInt(this.searchParameters.page):1},s.hasResults=function(){return this.assets.length>0},s.isIstock=function(){return"istock"===this.searchProfile.site.nickname},s.isMobile=function(){return this.searchProfile.isMobile},s.isMixed=function(){return!this.hasFamily()||this.searchParameters.family.includes("creative")&&this.searchParameters.family.includes("editorial")},s.isCreative=function(){return!this.hasFamily()||this.searchParameters.family.includes("creative")},s.isCreativeOnly=function(){return this.hasFamily()&&"creative"===this.searchParameters.family},s.isCreativeImageOnly=function(){return this.isCreativeOnly()&&this.isImage()&&!this.isSearchByImage()},s.isCreativeGeneral=function(){return this.isImage()&&this.isCreativeOnly()&&(""===this.mediaType()||this.isPhotography()&&this.isIllustration())},s.isImage=function(){return"image"===this.assetType()},s.isPhotography=function(){return this.isImage()&&(this.mediaType().includes("photography")||""===this.mediaType())},s.isPhotographyOnly=function(){return this.isImage()&&"photography"===this.mediaType()},s.isIllustration=function(){return this.isImage()&&this.mediaType().includes("illustration")},s.isIllustrationOnly=function(){return this.isImage()&&"illustration"===this.mediaType()&&"eps"!==this.assetFileType()},s.isVector=function(){return this.isIllustration()&&"eps"===this.assetFileType()},s.isEditorial=function(){return!this.hasFamily()||this.searchParameters.family.includes("editorial")},s.isEditorialOnly=function(){return this.hasFamily()&&"editorial"===this.searchParameters.family},s.isEditorialImage=function(){return this.isEditorial()&&this.isImage()},s.isEditorialImageOnly=function(){return this.isEditorialOnly()&&this.isImage()&&!this.isSearchByImage()},s.hasEditorialProduct=function(){return this.isFilm()?this.hasEditorialFilmProduct():this.hasEditorialImageProduct()},s.hasEditorialImageProduct=function(){return this.isEditorialAll()||this.isEditorialNews()||this.isEditorialSports()||this.isEditorialEntertainment()||this.isEditorialArchival()},s.hasEditorialFilmProduct=function(){return this.isEditorialNews()||this.isEditorialEntertainment()||this.isEditorialFashion()||this.isEditorialArchival()},s.isEditorialAll=function(){return"all"===this.searchParameters.editorialproducts},s.isEditorialNews=function(){return"news"===this.searchParameters.editorialproducts},s.isEditorialSports=function(){return"sport"===this.searchParameters.editorialproducts},s.isEditorialEntertainment=function(){return"entertainment"===this.searchParameters.editorialproducts},s.isEditorialArchival=function(){return"archival"===this.searchParameters.editorialproducts},s.isEditorialFashion=function(){return"fashion"===this.searchParameters.editorialproducts},s.isFilm=function(){return"film"===this.assetType()},s.isAllFilm=function(){return this.isCreativeFilm()&&this.isEditorialFilm()||this.isFilm()&&!this.hasFamily()},s.isCreativeFilm=function(){return this.isFilm()&&this.isCreativeOnly()},s.isCreativeFilmOnly=function(){return this.isCreativeFilm()&&!this.isEditorialFilm()},s.isEditorialFilm=function(){return this.isFilm()&&this.isEditorialOnly()},s.isEditorialFilmOnly=function(){return this.isEditorialFilm()&&!this.isCreativeFilm()},s.isRecentlyViewedImages=function(){return!!this.searchParameters.recentlyviewed},s.isGroupedByEvent=function(){return!!this.searchParameters.groupbyevent&&"false"!=this.searchParameters.groupbyevent},s.hasGroupByEvents=function(){return this.groupByEventCount>0},s.isStackSearch=function(){return!!this.searchParameters.stackid&&this.isBlankPhrase()},s.isSearchByImage=function(){return!!this.searchParameters.searchbyimage},s.isSearchByAsset=function(){return!!this.searchParameters.searchbyasset},s.isEvent=function(){return!!this.searchParameters.eventid},s.isEvents=function(){return!!this.searchParameters.events},s.isPhotographerSearch=function(){return!!this.searchParameters.photographer},s.isMoreLikeThis=function(){return!!this.searchParameters.morelikethis},s.isSimilarColor=function(){return!!this.searchParameters.colorsimilarityassetid},s.isSimilarSearch=function(){return this.isMoreLikeThis()||!!this.isSimilarColor()},s.isCuratedSet=function(){return!!this.searchParameters.curatedset&&this.isBlankPhrase()},s.isAssetIdSearch=function(){return this.isAssetIdCorrected()},s.isAssetIdCorrected=function(){return!!this.queryCorrections.asset_ids},s.isFamilyCorrected=function(){return!!this.queryCorrections.family},s.isArtist=function(){return!!this.searchParameters.artists},s.isHistogram=function(){return!!this.searchParameters.colorsimilarityassetid},s.isAvailableParameter=function(e){return null!=this.searchParameters[e]},s.isSpecialSearch=function(){return this.isAssetIdSearch()||this.isStackSearch()||this.isCuratedSet()||this.isRecentlyViewedImages()||this.isSearchByImage()||this.isMoreLikeThis()},s.isSpecialCollectionPage=function(){return!!this.searchParameters.specialcollectionid},s.isBlankPhrase=function(){return!this.searchParameters.phrase||0===this.searchParameters.phrase.length},s.isPortfolio=function(){return!!this.searchParameters.contributor},s.hasFamily=function(){return!!this.searchParameters.family},s.isOfflineContentOnly=function(){return"exclusive"===this.searchParameters.offlinecontent},s.assetType=function(){return this.searchParameters.assettype},s.assetFileType=function(){return this.searchParameters.assetfiletype},s.mediaType=function(){var e=this.searchParameters.mediatype||"";return["illustration","photography"].includes(e)?e:""},s.isBatchDownloadsEnabled=function(){return this.hasPremiumAccess()||this.hasEasyAccess()||this.hasEditorialSubscription()},s.isAllIstockCollections=function(){return!this.searchParameters.istockcollection},s.isEssentialIstockCollections=function(){return"main,value"===this.searchParameters.istockcollection},s.isSignatureIstockCollections=function(){return"signature,signatureplus"===this.searchParameters.istockcollection},s.layout=function(){return this.searchPreferences.search_grid_layout||this.searchPreferences[this.layoutPreference()]||"mosaic"},s.isMosaicLayout=function(){return"mosaic"===this.layout()},s.isFixedLayout=function(){return"fixed"===this.layout()},s.layoutPreference=function(){return this.isFilm()?"film_search_grid_layout":"image_search_grid_layout"},s.hasPremiumAccess=function(){return!!this.searchParameters.premiumaccess},s.hasEasyAccess=function(){return!!this.searchParameters.easyaccess},s.hasEditorialSubscription=function(){return!!this.searchParameters.editorialsubscription},s.isPaPreview=function(){return this.searchProfile.isPaPreview},s.isViewOnly=function(){if(this.searchParameters.premiumaccess){var e=this.searchParameters.premiumaccess.split(":")[1];return this.isPaAgreementViewOnly(e)||this.areAllPaAgreementsViewOnly()}return!1},s.isExhausted=function(){if(this.searchParameters.premiumaccess){var e=this.searchParameters.premiumaccess.split(":")[1];return this.isPaAgreementExhausted(e)||this.areAllPaAgreementsExhausted()}return!1},s.isPaAgreementViewOnly=function(e){var t=this.searchProfile.fullAgreementData.PA;if(!t)return!1;for(var r,n=a(t);!(r=n()).done;){var i=r.value;if(i.Id&&i.Id.toString()===e)return i.EffectivePermissions.indexOf("Download")<0}return!1},s.areAllPaAgreementsViewOnly=function(){var e=this.searchProfile.fullAgreementData.PA;if(!e)return!1;for(var t,r=a(e);!(t=r()).done;){if(t.value.EffectivePermissions.indexOf("Download")>-1)return!1}return!0},s.isPaAgreementExhausted=function(e){var t=this.searchProfile.fullAgreementData.PA;if(!t)return!1;for(var r,n=a(t);!(r=n()).done;){var i=r.value;if(i.Id&&i.Id.toString()===e)return i.IsExhausted}return!1},s.areAllPaAgreementsExhausted=function(){var e=this.searchProfile.fullAgreementData.PA;if(!e)return!1;for(var t,r=a(e);!(t=r()).done;){if(!t.value.IsExhausted)return!1}return!0},s.flattenAgreements=function(){var e=[];if(!this.searchProfile.fullAgreementData)return e;for(var t=0,r=Object.entries(this.searchProfile.fullAgreementData);t<r.length;t++){var n=r[t],i=n[0],a=n[1];e.push({id:a[0].Id,type:i})}return e},s.nonUltraPackAgreements=function(){return this.flattenAgreements().length<1?[]:this.flattenAgreements().map((function(e){return"IP"!==e.type}))},s.numPlansSelected=function(){return Number(this.hasEditorialSubscription())+Number(this.hasPremiumAccess())+Number(this.hasEasyAccess())},s.showEmptyResults=function(){return!this.totalResults>0&&!this.isRecentlyViewedImages()},s.selectedPAId=function(){if(this.hasPremiumAccess())return this.searchParameters.premiumaccess.split(":")[1]},s.isPanelOpen=function(){return"open"===this.searchPreferences.refinement_panel_state&&!this.renderGatewayView},s.isBatchDownloads=function(){var e;return(null==(e=this.batchDownloadAssets)?void 0:e.length)>0},s.isRMPermitted=function(){return!(this.isCreativeOnly()&&this.isImage()&&!this.searchProfile.hasPAWithCreativeRM)},n}(n);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var f=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,t)||this).gallery=r,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,h(t,r);var i=n.prototype;return i.isDownloadable=function(){return!this.isAnalogArchive&&(this.agreement&&!this.gallery.isExhausted()||this.gallery.isViewOnly())},i.isPurchasable=function(){return!this.isOffline&&!this.isAnalogArchive&&this.agreements.indexOf("PA")<0&&this.agreements.indexOf("ED")<0},i.isChecked=function(){for(var e,t=c(this.gallery.batchDownloadAssets);!(e=t()).done;){if(e.value.id==this.id)return!0}return!1},i.agreementPrefix=function(){for(var e=0,t=["ED","PA","IP","premium_pack","EA"];e<t.length;e++){var r=t[e];if(this.agreements.indexOf(r)>-1)return r}},i.isExclusive=function(){return this.editorialOnly&&"image"==this.assetType&&!this.gallery.isEditorialImageOnly},i.isPanoramicHorizontal=function(){return this.orientation="PanoramicHorizontal"},i.mosaicImageDimensions=function(){var e=this.maxDimensions?this.maxDimensions.width:0,t=this.maxDimensions?this.maxDimensions.height:0,r="film"==this.assetType?640:612,n=Math.min(r/e,r/t);return{width:Math.floor(e*n),height:Math.floor(t*n)}},i.mosaicBackgroundColor=function(){var e;return(null==(e=this.colorIndexes)?void 0:e.length)>0&&"image"===this.assetType?"#"+this.colorIndexes[0]:""},i.mosaicCssClasses=function(e){void 0===e&&(e=!1);var t=["gallery-mosaic-asset"];return"film"==this.assetType&&t.push("gallery-mosaic-video"),e&&t.push("gallery-mosaic-offlinecontent"),"PanoramicHorizontal"==this.orientation&&t.push("gallery-mosaic-pano-horiz"),t},i.gatewayCssClasses=function(e){void 0===e&&(e=!1);var t=["gallery-gateway-asset"];return"film"==this.assetType&&t.push("gallery-gateway-video"),e&&t.push("gallery-gateway-offlinecontent"),"PanoramicHorizontal"==this.orientation&&t.push("gallery-gateway-pano-horiz"),t},n}(n);function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var p=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,d(t,r);var i=n.prototype;return i.isInitialized=function(){return this.status===n.INITIALIZED},i.isLoading=function(){return this.status===n.LOADING},i.isLoaded=function(){return this.status===n.LOADED},i.isInitializedOrLoaded=function(){return this.isInitialized()||this.isLoaded()},n}(n);p.INITIALIZED="initialized",p.LOADING="loading",p.LOADED="loaded"}}]);
//# sourceMappingURL=677-5b9284bb6359e794130f.chunk.js.map